#tag WindowBegin Window MacIconWindow   BackColor       =   &hFFFFFF   Backdrop        =   ""   BalloonHelp     =   ""   CloseButton     =   "True"   Composite       =   "False"   Frame           =   0   FullScreen      =   "False"   HasBackColor    =   "False"   Height          =   477   LiveResize      =   "True"   MacProcID       =   0   MaxHeight       =   32000   MaximizeButton  =   "False"   MaxWidth        =   32000   MenuBar         =   ""   MenuBarVisible  =   "True"   MinHeight       =   64   MinimizeButton  =   "True"   MinWidth        =   64   Placement       =   0   Resizeable      =   "True"   Title           =   "Untitled"   Visible         =   "True"   Width           =   321   Begin EditField ExtensionField      AcceptTabs      =   ""      Alignment       =   0      AutoDeactivate  =   "True"      BackColor       =   &hFFFFFF      Bold            =   ""      Border          =   "True"      ControlOrder    =   0      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Format          =   ""      Height          =   22      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   119      LimitText       =   0      LockBottom      =   ""      LockLeft        =   ""      LockRight       =   ""      LockTop         =   ""      Mask            =   ""      Multiline       =   ""      Password        =   ""      ReadOnly        =   ""      ScrollbarHorizontal=   ""      ScrollbarVertical=   "True"      Styled          =   ""      TabPanelIndex   =   0      Text            =   ""      TextColor       =   &h000000      TextFont        =   "System"      TextSize        =   0      Top             =   256      Underline       =   ""      UseFocusRing    =   "True"      Visible         =   True      Width           =   85      BehaviorIndex   =   0   End   Begin StaticText StaticText1      AutoDeactivate  =   "True"      Bold            =   ""      ControlOrder    =   1      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Height          =   21      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   28      LockBottom      =   ""      LockLeft        =   ""      LockRight       =   ""      LockTop         =   ""      Multiline       =   ""      TabPanelIndex   =   0      Text            =   "Extension"      TextAlign       =   2      TextColor       =   &h000000      TextFont        =   "System"      TextSize        =   0      Top             =   256      Underline       =   ""      Visible         =   True      Width           =   79      BehaviorIndex   =   1   End   Begin RadioButton Size16      AutoDeactivate  =   "True"      Bold            =   ""      Caption         =   16      ControlOrder    =   2      Enabled         =   True      Height          =   19      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   50      LockBottom      =   ""      LockLeft        =   ""      LockRight       =   ""      LockTop         =   ""      TabPanelIndex   =   0      TextFont        =   "System"      TextSize        =   0      Top             =   160      Underline       =   ""      Value           =   ""      Visible         =   True      Width           =   40      BehaviorIndex   =   2   End   Begin RadioButton Size32      AutoDeactivate  =   "True"      Bold            =   ""      Caption         =   32      ControlOrder    =   3      Enabled         =   True      Height          =   18      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   94      LockBottom      =   ""      LockLeft        =   ""      LockRight       =   ""      LockTop         =   ""      TabPanelIndex   =   0      TextFont        =   "System"      TextSize        =   0      Top             =   160      Underline       =   ""      Value           =   ""      Visible         =   True      Width           =   40      BehaviorIndex   =   3   End   Begin RadioButton Size48      AutoDeactivate  =   "True"      Bold            =   ""      Caption         =   48      ControlOrder    =   4      Enabled         =   True      Height          =   20      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   138      LockBottom      =   ""      LockLeft        =   ""      LockRight       =   ""      LockTop         =   ""      TabPanelIndex   =   0      TextFont        =   "System"      TextSize        =   0      Top             =   160      Underline       =   ""      Value           =   ""      Visible         =   True      Width           =   40      BehaviorIndex   =   4   End   Begin RadioButton Size64      AutoDeactivate  =   "True"      Bold            =   ""      Caption         =   64      ControlOrder    =   5      Enabled         =   True      Height          =   20      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   182      LockBottom      =   ""      LockLeft        =   ""      LockRight       =   ""      LockTop         =   ""      TabPanelIndex   =   0      TextFont        =   "System"      TextSize        =   0      Top             =   160      Underline       =   ""      Value           =   ""      Visible         =   True      Width           =   46      BehaviorIndex   =   5   End   Begin RadioButton Size128      AutoDeactivate  =   "True"      Bold            =   ""      Caption         =   128      ControlOrder    =   6      Enabled         =   True      Height          =   20      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   226      LockBottom      =   ""      LockLeft        =   ""      LockRight       =   ""      LockTop         =   ""      TabPanelIndex   =   0      TextFont        =   "System"      TextSize        =   0      Top             =   160      Underline       =   ""      Value           =   "True"      Visible         =   True      Width           =   46      BehaviorIndex   =   6   End   Begin CheckBox CheckOffline      AutoDeactivate  =   "True"      Bold            =   ""      Caption         =   "Offline"      ControlOrder    =   7      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Height          =   17      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   40      LockBottom      =   ""      LockLeft        =   ""      LockRight       =   ""      LockTop         =   ""      TabPanelIndex   =   0      TextFont        =   "System"      TextSize        =   0      Top             =   192      Underline       =   ""      Value           =   ""      Visible         =   True      Width           =   73      BehaviorIndex   =   7   End   Begin CheckBox CheckOpen      AutoDeactivate  =   "True"      Bold            =   ""      Caption         =   "Open"      ControlOrder    =   8      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Height          =   17      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   119      LockBottom      =   ""      LockLeft        =   ""      LockRight       =   ""      LockTop         =   ""      TabPanelIndex   =   0      TextFont        =   "System"      TextSize        =   0      Top             =   192      Underline       =   ""      Value           =   ""      Visible         =   True      Width           =   68      BehaviorIndex   =   8   End   Begin CheckBox CheckSelected      AutoDeactivate  =   "True"      Bold            =   ""      Caption         =   "Selected"      ControlOrder    =   9      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Height          =   19      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   190      LockBottom      =   ""      LockLeft        =   ""      LockRight       =   ""      LockTop         =   ""      TabPanelIndex   =   0      TextFont        =   "System"      TextSize        =   0      Top             =   192      Underline       =   ""      Value           =   ""      Visible         =   True      Width           =   91      BehaviorIndex   =   9   End   Begin StaticText StaticText2      AutoDeactivate  =   "True"      Bold            =   ""      ControlOrder    =   10      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Height          =   20      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   11      LockBottom      =   ""      LockLeft        =   ""      LockRight       =   ""      LockTop         =   ""      Multiline       =   ""      TabPanelIndex   =   0      Text            =   "Creator"      TextAlign       =   0      TextColor       =   &h000000      TextFont        =   "System"      TextSize        =   0      Top             =   301      Underline       =   ""      Visible         =   True      Width           =   59      BehaviorIndex   =   10   End   Begin EditField CreatorField      AcceptTabs      =   ""      Alignment       =   0      AutoDeactivate  =   "True"      BackColor       =   &hFFFFFF      Bold            =   ""      Border          =   "True"      ControlOrder    =   11      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Format          =   ""      Height          =   22      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   82      LimitText       =   0      LockBottom      =   ""      LockLeft        =   ""      LockRight       =   ""      LockTop         =   ""      Mask            =   ""      Multiline       =   ""      Password        =   ""      ReadOnly        =   ""      ScrollbarHorizontal=   ""      ScrollbarVertical=   "True"      Styled          =   ""      TabPanelIndex   =   0      Text            =   ""      TextColor       =   &h000000      TextFont        =   "System"      TextSize        =   0      Top             =   300      Underline       =   ""      UseFocusRing    =   "True"      Visible         =   True      Width           =   58      BehaviorIndex   =   11   End   Begin StaticText StaticText3      AutoDeactivate  =   "True"      Bold            =   ""      ControlOrder    =   12      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Height          =   19      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   151      LockBottom      =   ""      LockLeft        =   ""      LockRight       =   ""      LockTop         =   ""      Multiline       =   ""      TabPanelIndex   =   0      Text            =   "Type"      TextAlign       =   0      TextColor       =   &h000000      TextFont        =   "System"      TextSize        =   0      Top             =   302      Underline       =   ""      Visible         =   True      Width           =   35      BehaviorIndex   =   12   End   Begin EditField TypeField      AcceptTabs      =   ""      Alignment       =   0      AutoDeactivate  =   "True"      BackColor       =   &hFFFFFF      Bold            =   ""      Border          =   "True"      ControlOrder    =   13      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Format          =   ""      Height          =   22      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   190      LimitText       =   0      LockBottom      =   ""      LockLeft        =   ""      LockRight       =   ""      LockTop         =   ""      Mask            =   ""      Multiline       =   ""      Password        =   ""      ReadOnly        =   ""      ScrollbarHorizontal=   ""      ScrollbarVertical=   "True"      Styled          =   ""      TabPanelIndex   =   0      Text            =   ""      TextColor       =   &h000000      TextFont        =   "System"      TextSize        =   0      Top             =   299      Underline       =   ""      UseFocusRing    =   "True"      Visible         =   True      Width           =   63      BehaviorIndex   =   13   End   Begin PushButton LoadicnsFile      AutoDeactivate  =   "True"      Bold            =   ""      Cancel          =   ""      Caption         =   "Load .icns File"      ControlOrder    =   14      Default         =   ""      Enabled         =   True      Height          =   20      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   20      LockBottom      =   ""      LockLeft        =   ""      LockRight       =   ""      LockTop         =   ""      TabPanelIndex   =   0      TextFont        =   "System"      TextSize        =   0      Top             =   349      Underline       =   ""      Visible         =   True      Width           =   120      BehaviorIndex   =   14   End   Begin PushButton LoadFileIconButton      AutoDeactivate  =   "True"      Bold            =   ""      Cancel          =   ""      Caption         =   "Load File Icon"      ControlOrder    =   15      Default         =   ""      Enabled         =   True      Height          =   20      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   169      LockBottom      =   ""      LockLeft        =   ""      LockRight       =   ""      LockTop         =   ""      TabPanelIndex   =   0      TextFont        =   "System"      TextSize        =   0      Top             =   348      Underline       =   ""      Visible         =   True      Width           =   120      BehaviorIndex   =   15   EndEnd#tag EndWindow#tag WindowCode	#tag Event		Sub Paint(g As Graphics)		  if self.Icon <> nil then		    self.Icon.Size = IconSize		    self.Icon.Draw g, (self.Width - self.Icon.Size)/2, 20 + (128 - self.Icon.Size)\2		    		    		    		    		  end if		End Sub	#tag EndEvent	#tag Method, Flags = &h21		Private Function IconSize() As Integer		  if Size16.Value then		    return 16		  elseIf Size32.Value then		    return 32		  elseIf Size48.Value then		    return 48		  elseIf Size64.Value then		    return 64		  elseIf Size128.Value then		    return 128		  else		    //this should not happen...		    return 128		  end if		End Function	#tag EndMethod	#tag Method, Flags = &h0		Function MaskOptions() As Integer		  dim transform as Integer		  if CheckOffline.Value then		    transform = transform or MacIcon.kTransformOffline		  end if		  if CheckOpen.Value then		    transform = transform or MacIcon.kTransformOpen		  end if		  if CheckSelected.Value then		    transform = transform or MacIcon.kTransformSelected		  end if		  		  return transform		  		End Function	#tag EndMethod	#tag Property, Flags = &h21		Private Icon As MacIcon	#tag EndProperty#tag EndWindowCode#tag Events ExtensionField	#tag Event		Function KeyDown(Key As String) As Boolean		  static Tab as String = Encodings.UTF8.Chr(9)		  if Key = Tab then		    self.Icon = MacIcon.NewIconFromExtension(me.Text)		    self.Refresh		    return true		  else		    return false		  end if		End Function	#tag EndEvent#tag EndEvents#tag Events Size16	#tag Event		Sub Action()		  if self.Icon <> nil then		    self.Icon.Size = self.IconSize		    self.Refresh		  end if		End Sub	#tag EndEvent#tag EndEvents#tag Events Size32	#tag Event		Sub Action()		  if self.Icon <> nil then		    self.Icon.Size = self.IconSize		    self.Refresh		  end if		End Sub	#tag EndEvent#tag EndEvents#tag Events Size48	#tag Event		Sub Action()		  if self.Icon <> nil then		    self.Icon.Size = self.IconSize		    self.Refresh		  end if		End Sub	#tag EndEvent#tag EndEvents#tag Events Size64	#tag Event		Sub Action()		  if self.Icon <> nil then		    self.Icon.Size = self.IconSize		    self.Refresh		  end if		End Sub	#tag EndEvent#tag EndEvents#tag Events Size128	#tag Event		Sub Action()		  if self.Icon <> nil then		    self.Icon.Size = self.IconSize		    self.Refresh		  end if		End Sub	#tag EndEvent#tag EndEvents#tag Events CheckOffline	#tag Event		Sub Action()		  if self.Icon <> nil then		    self.Icon.Transform = MaskOptions		    self.Refresh		  end if		End Sub	#tag EndEvent#tag EndEvents#tag Events CheckOpen	#tag Event		Sub Action()		  if self.Icon <> nil then		    self.Icon.Transform = MaskOptions		    self.Refresh		  end if		End Sub	#tag EndEvent#tag EndEvents#tag Events CheckSelected	#tag Event		Sub Action()		  if self.Icon <> nil then		    self.Icon.Transform = MaskOptions		    self.Refresh		  end if		End Sub	#tag EndEvent#tag EndEvents#tag Events CreatorField	#tag Event		Function KeyDown(Key As String) As Boolean		  static Tab as String = Encodings.UTF8.Chr(9)		  if Key = Tab then		    self.Icon = MacIcon.NewIconFromOSInfo(me.Text, TypeField.Text)		    self.Refresh		    return true		  else		    return false		  end if		End Function	#tag EndEvent#tag EndEvents#tag Events TypeField	#tag Event		Function KeyDown(Key As String) As Boolean		  static Tab as String = Encodings.UTF8.Chr(9)		  if Key = Tab then		    if CreatorField.Text <> "" then		      self.Icon = MacIcon.NewIconFromOSInfo(CreatorField.Text, TypeField.Text)		    else		      self.Icon = MacIcon.NewIconFromOSInfo(TypeField.Text)		    end if		    self.Refresh		    return true		  else		    return false		  end if		End Function	#tag EndEvent#tag EndEvents#tag Events LoadicnsFile	#tag Event		Sub Action()		  dim dlg as new OpenDialog		  if dlg.ShowModal is nil then		    return		  end if		  		  self.Icon = MacIcon.NewIconFromicnsFile(dlg.Result)		  self.Refresh		End Sub	#tag EndEvent#tag EndEvents#tag Events LoadFileIconButton	#tag Event		Sub Action()		  dim dlg as new OpenDialog		  if dlg.ShowModal is nil then		    return		  end if		  		  self.Icon = MacIcon.NewIconFromFolderItem(dlg.Result)		  self.Refresh		End Sub	#tag EndEvent#tag EndEvents